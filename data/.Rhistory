qt(0.975,68)
qt(0.975,68)*sqrt(2)
qt(0.975,30)*sqrt(2)
qf(0.975,6,30)
qf(0.975,6,30)*sqrt(2)
at(0.975,68)
qt(0.975,68)
qt(0.975,68)*sqrt(2)
qt(0.975,65)*sqrt(2)
qtukey(0.975,2,65)
addr <- '6th Main Rd, New Thippasandra, Bengaluru, Karnataka'  # set your address here
url = paste('http://maps.google.com/maps/api/geocode/xml?address=', addr,'&sensor=false',sep='')  # construct the URL
doc = xmlTreeParse(url)
root = xmlRoot(doc)
lat = xmlValue(root[['result']][['geometry']][['location']][['lat']])
long = xmlValue(root[['result']][['geometry']][['location']][['lng']])
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
source("../lib/drawMap.R")
source("../lib/getGps.R")
#install.packages(x)
lapply(x,library,character.only = TRUE)
addr <- '6th Main Rd, New Thippasandra, Bengaluru, Karnataka'  # set your address here
url = paste('http://maps.google.com/maps/api/geocode/xml?address=', addr,'&sensor=false',sep='')  # construct the URL
doc = xmlTreeParse(url)
root = xmlRoot(doc)
lat = xmlValue(root[['result']][['geometry']][['location']][['lat']])
long = xmlValue(root[['result']][['geometry']][['location']][['lng']])
lat
long
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("restaurant.csv",select = colsToKeep)
resData = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
source("../lib/drawMap.R")
source("../lib/getGps.R")
source("../lib/getDataGps.R")
#install.packages(x)
lapply(x,library,character.only = TRUE)
play = resData[1:10,]
play = resData[1:10,addr]
play
play = c("MORRIS PARK BAKE SHOP,MORRIS PARK AVE,BRONX","WENDY'S,FLATBUSH AVENUE,BROOKLYN","DJ REYNOLDS PUB AND RESTAURANT,WEST   57 STREET,MANHATTAN")
gps = lapply(play,getGps)
gps
lapply(gps,c)
do.call(gps,c)
?do.call
do.call(c,gps)
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA") %>%
filter(ZIPCODE >= 10024 & ZIPCODE <=10028)
nrow(resDataColumbia)
gps = lapply(play,getGps)
gps = do.call(rbind,gps)
gps
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA") %>%
filter(ZIPCODE >= 10024 & ZIPCODE <=10028)
save(resDataColumbia, file = "miceDataColumbia.RData")
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("restaurant.csv",select = colsToKeep)
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("restaurant.csv",select = colsToKeep)
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("restaurant.csv",select = colsToKeep)
resData = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
?paste
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
fileName
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:n+2499,]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("restaurant.csv",select = colsToKeep)
resData = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
save(resData, file = "resData.RData")
load("resData.Rdata")
Data = resData[n:n+2499,]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
dim(gps)
dim(Data)
dim(resData)
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
dim(gps)
save(gps,file = fileName)
#
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
#
n=2
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
save(gps,file = fileName)
#
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("~/Downloads/restaurant.csv",select = colsToKeep)
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
save(resData, file = "resData.RData")
#
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
save(gps,file = fileName)
dim(gps)
dim(gps)
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
dim(Data)
gps = lapply(Data$addr,getGps)
dim(gps)
gps = lapply(Data$addr,getGps)
gps
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
dim(gps)
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
dim(Data)
gps = lapply(Data$addr,getGps)
resData$addr[1]
resData = fread("~/Downloads/restaurant.csv",select = colsToKeep)
resDataColumbia = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
save(resData, file = "resData.RData")
resData$addr[1:10]
colsToKeep = c("DBA","STREET","BORO","CUISINE DESCRIPTION","ZIPCODE","SCORE")
resData = fread("~/Downloads/restaurant.csv",select = colsToKeep)
resData = resData %>%
na.omit() %>%
mutate(addr = paste(DBA, STREET, BORO, sep = ",")) %>%
unique(by = "DBA")
save(resData, file = "resData.RData")
#
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
save(gps,file = fileName)
load("/Users/yutou/Data Science/project2-project2-group2/data/resData.RData")
View(resDataColumbia)
View(resDataColumbia)
View(resData)
colsToKeep = c("Created Date","Incident Zip","Latitude","Longitude")
miceData = fread("Rat_Sightings.csv",select = colsToKeep)
colnames(miceData) = c("Date","Zip","Latitude","Longitude")
miceData = miceData %>%
na.omit() %>%
mutate(Date = as.Date(Date,"%m/%d/%Y"), Zip = as.numeric(Zip)) %>%
mutate(Year = format(Date,"%Y"))
save(miceData, file = "miceData.RData")
names(miceData)
head(miceData$Yeat)
head(miceData$Year)
humberger <- makeIcon(
iconUrl = "http://freeclipartstore.com/Hamburger%2004.gif",
iconWidth = 38, iconHeight = 95
)
setwd("~/Data Science/project2-project2-group2/data")
load("miceData.RData")
drawMapFood = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addCircleMarkers(~Longitude, ~Latitude,icon=humberger)
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampCluster = drawMapFood(samp)
mSampCluster
drawMapFood = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addCircleMarkers(~Longitude, ~Latitude,icon=humberger)
return(m)
}
humberger <- makeIcon(
iconUrl = "http://freeclipartstore.com/Hamburger%2004.gif",
iconWidth = 38, iconHeight = 95
)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "http://freeclipartstore.com/Hamburger%2004.gif",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94
)
humberger <- makeIcon(
iconUrl = "http://leafletjs.com/docs/images/leaf-green.png",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94
)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "https://github.com/tmm1/emoji-extractor/blob/master/images/160x160/670.png",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94
)
mSamp = drawMap(samp)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "https://github.com/tmm1/emoji-extractor/blob/master/images/160x160/670.png",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94
)
makeIcon
?makeIcon
humberger <- makeIcon(
iconUrl = "Hamburger.gif",
iconWidth = 38, iconHeight = 95,
iconAnchorX = 22, iconAnchorY = 94
)
drawMapFood = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addCircleMarkers(~Longitude, ~Latitude,icon=humberger)
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
drawMapFood = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addMarkers(~Longitude, ~Latitude,icon=humberger)
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "Hamburger.gif",
iconWidth = 3, iconHeight = 3,
iconAnchorX = 22, iconAnchorY = 94
)
drawMapFood = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addMarkers(~Longitude, ~Latitude,icon=humberger)
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "Hamburger.gif",
iconWidth = 6, iconHeight = 6,
iconAnchorX = 22, iconAnchorY = 94
)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "Hamburger.gif",
iconWidth = 10, iconHeight = 10,
iconAnchorX = 22, iconAnchorY = 94
)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
humberger <- makeIcon(
iconUrl = "Hamburger.gif",
iconWidth = 10, iconHeight = 10
)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
mSampFood = drawMapFood(samp)
mSampFood
str(resData)
play = as.factor(resData$`CUISINE DESCRIPTION`)
str(play)
play
names(miceData)
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
#'
#'@data Data for map. With variable Longitue & Latitude
#'
drawMap = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addCircleMarkers(~Longitude, ~Latitude,radius = 3, stroke = FALSE,col = "yellow", popup = paste(sep="<br/>",~Date,~Zip))
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
#'
#'@data Data for map. With variable Longitue & Latitude
#'
drawMap = function(data){
m = leaflet(data)%>%
addProviderTiles("CartoDB.DarkMatter")%>%
addCircleMarkers(~Longitude, ~Latitude,radius = 3, stroke = FALSE,col = "yellow", popup = ~Date)
return(m)
}
samp = sample_n(miceData,100)
mSamp = drawMap(samp)
mSamp
#
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
n=1
fileName = paste("gps",as.character(n),".RData",sep="")
# Set working directory
setwd("~/Data Science/project2-project2-group2/data")
x = c("leaflet","dplyr","data.table","XML")
#install.packages(x)
lapply(x,library,character.only = TRUE)
source("../lib/getGps.R")
load("resData.Rdata")
Data = resData[n:(n+2499),]
gps = lapply(Data$addr,getGps)
Data = resData[((n-1)*2500+1):n*2500,]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
gps
load("resData.Rdata")
Data = resData[((n-1)*2500+1):n*2500,]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
gps
## Data cleaning for mice data
colsToKeep = c("Created Date","Incident Zip","Latitude","Longitude")
miceData = fread("Rat_Sightings.csv",select = colsToKeep)
colnames(miceData) = c("Date","Zip","Latitude","Longitude")
miceData = miceData %>%
na.omit() %>%
mutate(Date = as.Date(Date,"%m/%d/%Y"), Zip = as.numeric(Zip)) %>%
mutate(Year = format(Date,"%Y"),Month = format(Date,"%M"))
save(miceData, file = "miceData.RData")
names(miceData)
head(miceData$Month)
miceData$Month
colsToKeep = c("Created Date","Incident Zip","Latitude","Longitude")
miceData = fread("Rat_Sightings.csv",select = colsToKeep)
colnames(miceData) = c("Date","Zip","Latitude","Longitude")
miceData = miceData %>%
na.omit() %>%
mutate(Date = as.Date(Date,"%m/%d/%Y"), Zip = as.numeric(Zip)) %>%
mutate(Year = format(Date,"%Y"),Month = format(Date,"%m"))
save(miceData, file = "miceData.RData")
head(miceData$Month)
Data = resData[((n-1)*2500+1):n*2500,]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
dim(gps)
dim(resData)
n
Data = resData[((n-1)*2500+1):n*2500,]
dim(Data)
(n-1)*2500+1
n*2500
Data = resData[((n-1)*2500+1):(n*2500),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
dim(gps)
gps = na.omit(gps)
dim(gps)
n=2
Data = resData[((n-1)*2500+1):(n*2500),]
gps = lapply(Data$addr,getGps)
gps = do.call(rbind,gps)
dim(gps)
